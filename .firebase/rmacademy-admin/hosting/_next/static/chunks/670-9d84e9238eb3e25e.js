"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[670],{550:(e,t,r)=>{r.d(t,{db:()=>i,j:()=>c});var n=r(2078),a=r(9708),l=r(2553);let s=(0,n.Dk)().length?(0,n.Sx)():(0,n.Wp)({apiKey:"AIzaSyC5SUu7e-aNUfgBEeEoXEwjONknWKhbtBI",authDomain:"rmcheck-4e79c.firebaseapp.com",projectId:"rmcheck-4e79c",storageBucket:"rmcheck-4e79c.firebasestorage.app",messagingSenderId:"1081522017302",appId:"1:1081522017302:web:b7bd3e0436a05c92c29137"}),i=(0,a.aU)(s),c=(0,l.xI)(s)},2274:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(5155);function a(e){let{submission:t,student:r,questions:a,onClose:l}=e;if(!t)return null;let s=t.questionIds||[];return(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4 animate-fade-in",children:(0,n.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col transform animate-scale-up",children:[(0,n.jsxs)("header",{className:"p-4 border-b flex justify-between items-center",children:[(0,n.jsxs)("h2",{className:"text-lg font-bold text-slate-800",children:[(null==r?void 0:r.studentName)||"학생"," - 학습 상세 결과"]}),(0,n.jsx)("button",{onClick:l,className:"text-slate-400 hover:text-slate-800 text-3xl font-light",children:"\xd7"})]}),(0,n.jsx)("div",{className:"p-6 overflow-y-auto space-y-4",children:s.map((e,r)=>{let l=a[e];if(!l)return(0,n.jsxs)("div",{className:"p-4 rounded-lg bg-slate-100 text-sm text-slate-500",children:["문제 정보를 불러오는 중... (ID: ",e,")"]},r);let s=t.answers[r],i=l.answerIndex===s;return(0,n.jsxs)("div",{className:"p-4 rounded-lg border ".concat(i?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:[(0,n.jsxs)("p",{className:"font-bold text-slate-800 whitespace-pre-wrap",children:[r+1,". ",l.questionText]}),(0,n.jsx)("ul",{className:"mt-3 space-y-1.5 text-sm",children:l.choices.map((e,t)=>{let r=l.answerIndex===t,a="text-slate-600";return r&&(a="font-bold text-green-700"),s!==t||i||(a="text-red-700 line-through"),(0,n.jsxs)("li",{className:a,children:[(0,n.jsxs)("span",{className:"inline-block w-4 mr-2",children:[t+1,"."]}),e]},t)})})]},e)})}),(0,n.jsx)("footer",{className:"p-4 bg-slate-50 border-t text-right",children:(0,n.jsx)("button",{onClick:l,className:"btn-secondary",children:"닫기"})})]})})}},3136:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(5155);function a(){return(0,n.jsx)("div",{className:"flex justify-center items-center p-4",children:(0,n.jsx)("div",{className:"w-12 h-12 border-4 border-slate-200 border-t-[var(--primary)] rounded-full animate-spin"})})}},6724:(e,t,r)=>{r.d(t,{k5:()=>u});var n=r(2115),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l=n.createContext&&n.createContext(a),s=["attr","size","title"];function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var n,a,l;n=e,a=t,l=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in n?Object.defineProperty(n,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):n[a]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e){return t=>n.createElement(d,i({attr:o({},e.attr)},t),function e(t){return t&&t.map((t,r)=>n.createElement(t.tag,o({key:r},t.attr),e(t.child)))}(e.child))}function d(e){var t=t=>{var r,{attr:a,size:l,title:c}=e,u=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,s),d=l||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),n.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,u,{className:r,style:o(o({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),c&&n.createElement("title",null,c),e.children)};return void 0!==l?n.createElement(l.Consumer,null,e=>t(e)):t(a)}},9730:(e,t,r)=>{r.d(t,{A:()=>d,AuthProvider:()=>u});var n=r(5155),a=r(2115),l=r(2553),s=r(550),i=r(9708),c=r(3136);let o=(0,a.createContext)({user:null,loading:!0}),u=e=>{let{children:t}=e,[r,u]=(0,a.useState)(null),[d,m]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{let e=(0,l.hg)(s.j,async e=>{if(e){let r={...e};try{var t;if(null==(t=e.email)?void 0:t.endsWith("@rulemakers.co.kr"))r.role="superadmin";else{let t=(0,i.rJ)(s.db,"academies"),n=(0,i.P)(t,(0,i._M)("adminEmail","==",e.email),(0,i._M)("isDeleted","==",!1)),a=await (0,i.GG)(n);if(a.empty)await s.j.signOut(),r=null;else{let e=a.docs[0];r&&(r.role="academyadmin",r.academyId=e.id,r.academyName=e.data().name)}}}catch(e){console.error("Failed to fetch user role, signing out.",e),await s.j.signOut(),r=null}u(r)}else u(null);m(!1)});return()=>e()},[]),d)?(0,n.jsx)(c.A,{}):(0,n.jsx)(o.Provider,{value:{user:r,loading:d},children:t})},d=()=>(0,a.useContext)(o)}}]);